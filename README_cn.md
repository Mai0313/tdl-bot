<center>

# Python å°ˆæ¡ˆæ¨¡æ¿

[![python](https://img.shields.io/badge/-Python_3.10_%7C_3.11_%7C_3.12-blue?logo=python&logoColor=white)](https://github.com/pre-commit/pre-commit)
[![uv](https://img.shields.io/badge/-uv_dependency_management-2C5F2D?logo=python&logoColor=white)](https://docs.astral.sh/uv/)
[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/ruff/main/assets/badge/v2.json)](https://github.com/astral-sh/ruff)
[![tests](https://github.com/Mai0313/tdl-bot/actions/workflows/test.yml/badge.svg)](https://github.com/Mai0313/tdl-bot/actions/workflows/test.yml)
[![code-quality](https://github.com/Mai0313/tdl-bot/actions/workflows/code-quality-check.yml/badge.svg)](https://github.com/Mai0313/tdl-bot/actions/workflows/code-quality-check.yml)
[![codecov](https://codecov.io/gh/Mai0313/tdl-bot/branch/master/graph/badge.svg)](https://codecov.io/gh/Mai0313/tdl-bot)
[![license](https://img.shields.io/badge/License-MIT-green.svg?labelColor=gray)](https://github.com/Mai0313/tdl-bot/tree/master?tab=License-1-ov-file)
[![PRs](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://github.com/Mai0313/tdl-bot/pulls)
[![contributors](https://img.shields.io/github/contributors/Mai0313/tdl-bot.svg)](https://github.com/Mai0313/tdl-bot/graphs/contributors)

</center>

ğŸš€ **ä¸€å€‹å®Œæ•´çš„ Python å°ˆæ¡ˆæ¨¡æ¿ï¼Œå¹«åŠ©é–‹ç™¼è€…å¿«é€Ÿå•Ÿå‹•å°ˆæ¡ˆï¼Œå…§å«å®Œæ•´çš„ CI/CD æµæ°´ç·šå’Œç¾ä»£åŒ–å·¥å…·**

é»æ“Š [<kbd>ä½¿ç”¨æ­¤æ¨¡æ¿</kbd>](https://github.com/Mai0313/tdl-bot/generate) ä¾†å»ºç«‹æ–°çš„å„²å­˜åº«ï¼Œæˆ–ä½¿ç”¨æˆ‘å€‘çš„åˆå§‹åŒ–è…³æœ¬é€²è¡Œå€‹äººåŒ–è¨­å®šã€‚

**å…¶ä»–èªè¨€ç‰ˆæœ¬**: [English](README.md) | [ä¸­æ–‡](README_cn.md)

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ—ï¸ **ç¾ä»£åŒ–å°ˆæ¡ˆçµæ§‹**

- **src/ ä½ˆå±€**: éµå¾ª Python å°è£æœ€ä½³å¯¦è¸
- **uv ä¾è³´ç®¡ç†**: å¿«é€Ÿã€å¯é çš„ç¾ä»£åŒ–ä¾è³´è§£æ
- **å¤šç‰ˆæœ¬æ”¯æ´**: Python 3.10ã€3.11 å’Œ 3.12
- **å‹åˆ¥æç¤º**: å®Œæ•´çš„å‹åˆ¥è¨»è§£æ”¯æ´èˆ‡é©—è­‰

### ğŸ”§ **é–‹ç™¼ç’°å¢ƒ**

- **VS Code Dev Container**: å®Œæ•´é…ç½®ï¼ŒåŒ…å« zshã€oh-my-zsh å’Œ powerlevel10k ä¸»é¡Œ
- **Docker æ”¯æ´**: é–‹ç™¼å’Œç”Ÿç”¢ç’°å¢ƒçš„å¤šéšæ®µ Dockerfile
- **Pre-commit hooks**: ä½¿ç”¨ ruff è‡ªå‹•åŒ–ç¨‹å¼ç¢¼æ ¼å¼åŒ–å’Œæª¢æŸ¥
- **æœ¬åœ°é–‹ç™¼**: ä½¿ç”¨ Make å‘½ä»¤è¼•é¬†è¨­å®š

### ğŸ§ª **æ¸¬è©¦èˆ‡å“è³ªä¿è­‰**

- **pytest æ¡†æ¶**: å…¨é¢çš„æ¸¬è©¦èˆ‡è¦†è“‹ç‡å ±å‘Š
- **å¹³è¡ŒåŸ·è¡Œ**: ä½¿ç”¨ pytest-xdist åŠ é€Ÿæ¸¬è©¦åŸ·è¡Œ
- **ç¨‹å¼ç¢¼è¦†è“‹ç‡**: HTML å’Œ XML å ±å‘Šï¼Œå¯é…ç½®é–¾å€¼
- **å“è³ªé–€æª»**: æ¯æ¬¡æäº¤éƒ½è‡ªå‹•é€²è¡Œç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥

### ğŸš€ **å®Œæ•´ CI/CD æµæ°´ç·š**

- **å¤šç‰ˆæœ¬æ¸¬è©¦**: è·¨ Python ç‰ˆæœ¬çš„è‡ªå‹•åŒ–æ¸¬è©¦
- **ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥**: ruff æª¢æŸ¥å’Œæ ¼å¼åŒ–é©—è­‰
- **æ–‡æª”éƒ¨ç½²**: è‡ªå‹• GitHub Pages éƒ¨ç½²
- **ç™¼å¸ƒè‡ªå‹•åŒ–**: èªç¾©åŒ–ç‰ˆæœ¬æ§åˆ¶å’Œç™¼å¸ƒè‰ç¨¿
- **è‡ªå‹•æ¨™ç±¤**: æ™ºèƒ½ PR åˆ†é¡

### ğŸ“š **æ–‡æª”ç³»çµ±**

- **MkDocs Material**: ç¾è§€ä¸”éŸ¿æ‡‰å¼çš„æ–‡æª”
- **è‡ªå‹•ç”Ÿæˆ**: å¾ç¨‹å¼ç¢¼å’Œç­†è¨˜æœ¬è‡ªå‹•ç”Ÿæˆæ–‡æª”çš„è…³æœ¬
- **API æ–‡æª”**: è‡ªå‹• API åƒè€ƒç”Ÿæˆ
- **éƒ¨è½æ ¼æ”¯æ´**: å…§å»ºå°ˆæ¡ˆæ›´æ–°éƒ¨è½æ ¼åŠŸèƒ½

### ğŸ¤– **è‡ªå‹•åŒ–è…³æœ¬**

- **å°ˆæ¡ˆåˆå§‹åŒ–**: `scripts/initpyrepo.go` ç”¨æ–¼å»ºç«‹å€‹äººåŒ–å°ˆæ¡ˆ
- **æ–‡æª”ç”Ÿæˆ**: `scripts/gen_docs.py` ç”¨æ–¼è‡ªå‹•ç”Ÿæˆæ–‡æª”
- **Makefile å‘½ä»¤**: å¸¸è¦‹é–‹ç™¼ä»»å‹™è‡ªå‹•åŒ–

## ğŸš€ å¿«é€Ÿé–‹å§‹

### é¸é … 1: ä½¿ç”¨ GitHub æ¨¡æ¿

1. é»æ“Š [<kbd>ä½¿ç”¨æ­¤æ¨¡æ¿</kbd>](https://github.com/Mai0313/tdl-bot/generate)
2. é…ç½®æ‚¨çš„æ–°å„²å­˜åº«
3. è¤‡è£½ä¸¦é–‹å§‹é–‹ç™¼

### é¸é … 2: ä½¿ç”¨åˆå§‹åŒ–è…³æœ¬

1. è¤‡è£½æ­¤å„²å­˜åº«
2. åŸ·è¡Œåˆå§‹åŒ–è…³æœ¬ï¼š
    ```bash
    go run scripts/initpyrepo.go
    ```
3. ä¾ç…§æç¤ºè‡ªè¨‚æ‚¨çš„å°ˆæ¡ˆ

### é¸é … 3: æ‰‹å‹•è¨­å®š

1. è¤‡è£½å„²å­˜åº«
2. å®‰è£ä¾è³´ï¼š
    ```bash
    make uv-install  # å¦‚æœå°šæœªå®‰è£ uv
    uv sync          # å®‰è£å°ˆæ¡ˆä¾è³´
    ```
3. è¨­å®š pre-commit hooksï¼š
    ```bash
    make format      # åŸ·è¡Œ pre-commit hooks
    ```

### é¸é … 4: å¿«é€Ÿè‡ªè¨‚ï¼ˆæ¨è–¦ï¼‰

1. è¤‡è£½æ­¤å„²å­˜åº«
2. å…¨å±€æ›¿æ› `tdl-bot` ç‚ºæ‚¨çš„å°ˆæ¡ˆåç¨±ï¼ˆsnake_case æ ¼å¼ï¼‰
3. å…¨å±€æ›¿æ› `Telegram Downloader Bot` ç‚ºæ‚¨çš„å°ˆæ¡ˆæ¨™é¡Œï¼ˆPascalCase æ ¼å¼ï¼‰
4. åŸ·è¡Œåˆå§‹è¨­å®šï¼š
    ```bash
    make uv-install && uv sync && make format
    ```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
â”œâ”€â”€ .devcontainer/          # VS Code Dev Container é…ç½®
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ workflows/          # CI/CD å·¥ä½œæµç¨‹
â”‚   â””â”€â”€ copilot-instructions.md
â”œâ”€â”€ docker/                 # Docker é…ç½®
â”œâ”€â”€ docs/                   # MkDocs æ–‡æª”
â”œâ”€â”€ scripts/                # è‡ªå‹•åŒ–è…³æœ¬
â”œâ”€â”€ src/
â”‚   â””â”€â”€ tdl-bot/      # ä¸»è¦å¥—ä»¶
â”œâ”€â”€ tests/                  # æ¸¬è©¦å¥—ä»¶
â”œâ”€â”€ pyproject.toml          # å°ˆæ¡ˆé…ç½®
â”œâ”€â”€ Makefile               # é–‹ç™¼å‘½ä»¤
â””â”€â”€ README.md
```

## ğŸ› ï¸ å¯ç”¨å‘½ä»¤

```bash
# é–‹ç™¼
make clean          # æ¸…ç†è‡ªå‹•ç”Ÿæˆçš„æª”æ¡ˆ
make format         # åŸ·è¡Œ pre-commit hooks
make test           # åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
make gen-docs       # ç”Ÿæˆæ–‡æª”

# ä¾è³´ç®¡ç†
make uv-install     # å®‰è£ uv ä¾è³´ç®¡ç†å™¨
uv add <package>    # æ·»åŠ ç”Ÿç”¢ä¾è³´
uv add <package> --dev  # æ·»åŠ é–‹ç™¼ä¾è³´
```

## ğŸ¯ åŒ…å«å…§å®¹

### CI/CD å·¥ä½œæµç¨‹

- **æ¸¬è©¦**: PR ä¸Šçš„å¤šç‰ˆæœ¬ Python æ¸¬è©¦
- **ç¨‹å¼ç¢¼å“è³ª**: è‡ªå‹•åŒ– ruff æª¢æŸ¥å’Œ pre-commit é©—è­‰
- **æ–‡æª”**: è‡ªå‹• GitHub Pages éƒ¨ç½²
- **ç™¼å¸ƒ**: è‡ªå‹•ç™¼å¸ƒè‰ç¨¿å’Œè®Šæ›´æ—¥èªŒç”Ÿæˆ
- **æ¨™ç±¤**: åŸºæ–¼ PR å…§å®¹çš„è‡ªå‹•æ¨™ç±¤

### é–‹ç™¼å·¥å…·

- **ruff**: å¿«é€Ÿ Python æª¢æŸ¥å™¨å’Œæ ¼å¼åŒ–å™¨
- **pytest**: å¸¶è¦†è“‹ç‡çš„æ¸¬è©¦æ¡†æ¶
- **pre-commit**: ç¨‹å¼ç¢¼å“è³ªçš„ Git hooks
- **MkDocs**: æ–‡æª”ç”Ÿæˆ
- **Docker**: å®¹å™¨åŒ–é–‹ç™¼å’Œéƒ¨ç½²

### å°ˆæ¡ˆæ¨¡æ¿

- **Python å¥—ä»¶**: å³ç”¨å‹å¥—ä»¶çµæ§‹
- **é…ç½®æª”æ¡ˆ**: åŒ…å«æ‰€æœ‰å¿…è¦çš„é…ç½®æª”æ¡ˆ
- **æ–‡æª”**: å®Œæ•´çš„æ–‡æª”è¨­å®š
- **æ¸¬è©¦**: å…¨é¢çš„æ¸¬è©¦é…ç½®

## ğŸ¨ è‡ªè¨‚æŒ‡å—

### å°ˆæ¡ˆåç¨±è‡ªè¨‚

æœ¬æ¨¡æ¿è¨­è¨ˆç‚ºå¯é€éç°¡å–®çš„å…¨å±€æ›¿æ›å¿«é€Ÿè‡ªè¨‚ï¼š

1. **æ›¿æ›å¥—ä»¶åç¨±**: å°‡æ‰€æœ‰ `tdl-bot` æ›¿æ›ç‚ºæ‚¨çš„å°ˆæ¡ˆåç¨±ï¼ˆå»ºè­°ä½¿ç”¨ snake_caseï¼‰
2. **æ›¿æ›å°ˆæ¡ˆæ¨™é¡Œ**: å°‡æ‰€æœ‰ `Telegram Downloader Bot` æ›¿æ›ç‚ºæ‚¨çš„å°ˆæ¡ˆæ¨™é¡Œï¼ˆå»ºè­°ä½¿ç”¨ PascalCaseï¼‰
3. **æ›´æ–°ä¸­ç¹¼è³‡æ–™**: ä¿®æ”¹ `pyproject.toml` ä¸­çš„ä½œè€…ã€æè¿°ç­‰è³‡è¨Š

ç¯„ä¾‹ï¼š

```bash
# å¦‚æœæ‚¨çš„å°ˆæ¡ˆå«åš "awesome_project"
find . -type f -name "*.py" -o -name "*.md" -o -name "*.toml" | xargs sed -i 's/tdl-bot/awesome_project/g'
find . -type f -name "*.py" -o -name "*.md" -o -name "*.toml" | xargs sed -i 's/Telegram Downloader Bot/AwesomeProject/g'
```

## ğŸ¤ è²¢ç»

æˆ‘å€‘æ­¡è¿è²¢ç»ï¼è«‹éš¨æ™‚ï¼š

- é–‹å•Ÿå•é¡Œå›å ±éŒ¯èª¤æˆ–åŠŸèƒ½è«‹æ±‚
- æäº¤æ‹‰å–è«‹æ±‚é€²è¡Œæ”¹é€²
- åˆ†äº«æ‚¨ä½¿ç”¨æ­¤æ¨¡æ¿çš„ç¶“é©—

## ğŸ“– æ–‡æª”

è©³ç´°æ–‡æª”è«‹è¨ªå•ï¼š[https://mai0313.github.io/tdl-bot/](https://mai0313.github.io/tdl-bot/)

## ğŸ‘¥ è²¢ç»è€…

[![Contributors](https://contrib.rocks/image?repo=Mai0313/tdl-bot)](https://github.com/Mai0313/tdl-bot/graphs/contributors)

Made with [contrib.rocks](https://contrib.rocks)

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Š - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆã€‚
